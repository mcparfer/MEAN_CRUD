<div class="container my-5">
    <div class="row">
        <div class="card col-10 m-auto">
            <div class="card-body">
                <button routerLink="/insert-employee" class="btn btn-light float-start">New Employee</button>
                <button routerLink="/" class="btn btn-light float-end">Go Back</button>
                <h1 class="title text-center mt-2">Employees Register</h1>
                <div class="container mt-4 tonta">
                    <div class="d-flex flex-row mt-3 mb-2">
                        <label><input checked (click)="toggleFirst()" type="checkbox"> First Name</label>
                        <label><input checked (click)="toggleLast()" type="checkbox"> Last Name</label>
                        <label><input checked (click)="toggleEmail()" type="checkbox"> Email</label>
                        <label><input checked (click)="toggleDpt()" type="checkbox"> Department ID</label>
                        <label><input checked (click)="toggleDate()" type="checkbox"> Hire Date</label>
                        <label><input checked (click)="toggleExtra()" type="checkbox"> Extra Roles</label>
                        <label><input checked (click)="toggleSalary()" type="checkbox"> Salary</label>
                    </div>
                    <table id="employeetable" *ngIf="listEmployees.length > 0"
                        class="table table-striped table-hover table-bordered table-sm row-border hover mt-3">
                        <thead>
                            <tr>
                                <th [appSort]="listEmployees" data-order="asc" data-name="_id" scope="col" class="p-2">
                                    ID</th>
                                <th [appSort]="listEmployees" data-order="asc" data-name="firstName" scope="col"
                                    class="p-2" *ngIf="showFirst">First Name</th>
                                <th [appSort]="listEmployees" data-order="asc" data-name="lastName" scope="col"
                                    class="p-2" *ngIf="showLast">Last Name</th>
                                <th [appSort]="listEmployees" data-order="asc" data-name="email" scope="col" class="p-2"
                                    *ngIf="showEmail">Email</th>
                                <th [appSort]="listEmployees" data-order="asc" data-name="departmentID" scope="col"
                                    class="p-2" *ngIf="showDpt">Dpt.</th>
                                <th [appSort]="listEmployees" data-order="asc" data-name="hireDate" scope="col"
                                    class="p-2" *ngIf="showDate">Hire Date</th>
                                <th scope="col" class="p-2" *ngIf="showExtra">Extra Roles</th>
                                <th [appSort]="listEmployees" data-order="asc" data-name="salary" scope="col"
                                    class="p-2" *ngIf="showSalary">Salary</th>
                                <th scope="col" class="p-2"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let employee of listEmployees">
                                <td scope="col" class="p-2 align-middle">{{employee._id}}</td>
                                <td scope="col" *ngIf="showFirst" class="p-2 align-middle">{{employee.firstName}}</td>
                                <td scope="col" *ngIf="showLast" class="p-2 align-middle">{{employee.lastName}}</td>
                                <td scope="col" *ngIf="showEmail" class="p-2 align-middle">{{employee.email}}</td>
                                <td scope="col" *ngIf="showDpt" class="p-2 align-middle">{{employee.departmentID}}</td>
                                <td scope="col" *ngIf="showDate" class="p-2 align-middle">{{employee.hireDate | date: 'dd/MM/yyyy'}}
                                </td>
                                <td scope="col" *ngIf="showExtra" class="p-2 align-middle">
                                    <table>
                                        <tr>
                                            <td scope="col" class="pb-1">Supervisor: {{employee.extraRoles.supervisor | yesNo }}</td>
                                        </tr>
                                        <tr>
                                            <td scope="col" class="special">Manager: {{employee.extraRoles.manager | yesNo }}</td>
                                        </tr>
                                    </table>
                                </td>
                                <td scope="col" *ngIf="showSalary" class="p-2 align-middle">{{employee.salary | currency:'EUR':'symbol-narrow'}}</td>
                                <td class="p-2 align-middle">
                                    <i class="fas fa-edit text-primary px-2"
                                        [routerLink]="['/edit-employee', employee._id]"></i>
                                    <i class="fas fa-trash text-danger px-1" (click)="deleteEmployee(employee._id)"></i>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <h5 *ngIf="listEmployees.length == 0"> This is empty :( </h5>
                </div>
            </div>
        </div>
    </div>
</div>